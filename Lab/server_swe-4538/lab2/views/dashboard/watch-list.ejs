<%- include('../partials/header.ejs') %> <%- include('../partials/navbar.ejs')
%>

<section class="max-w-7xl mx-auto py-4">
  <h2 class="text-2xl mb-6">Your WatchList</h2>

  <% if (watchlist.length === 0) { %>
  <p class="text-center text-gray-500">
    You have no animes in your watch list yet.
  </p>
  <% } else { %>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <% watchlist.forEach(anime => { %>
    <!-- Card design with color-coded status indicators -->
    <div
      class="bg-white shadow-md rounded-lg p-4 flex items-center justify-between"
    >
      <div>
        <h2 class="text-xl font-semibold"><%= anime.anime_name %></h2>
        <p class="text-gray-500 text-sm mt-1">
          Added on: <%= new Date(anime.added_date).toLocaleDateString() %>
        </p>
      </div>

      <!-- Status badge with color difference based on status -->
      <div class="ml-4">
        <% if (anime.status === 'watching') { %>
        <span
          class="bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded"
          >Watching</span
        >
        <% } else if (anime.status === 'watched') { %>
        <span
          class="bg-green-100 text-green-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded"
          >Watched</span
        >
        <% } else { %>
        <span
          class="bg-yellow-100 text-yellow-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded"
          >Watch Later</span
        >
        <% } %>
      </div>
    </div>
    <% }); %>
  </div>
  <% } %>

  <div class="text-center mt-8">
    <a
      href="/dashboard"
      class="text-sm text-rose-600 hover:text-rose-700 hover:underline"
      >&larr; Back to Dashboard</a
    >
  </div>
</section>

<%- include('../partials/footer.ejs') %>
